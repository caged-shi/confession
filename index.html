<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üíå Pixel Coquette Letters</title>

<!-- Pixel font for headings / DAMN text -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#fff6fa;
    --accent:#ffb6d2;
    --paper:#fffafc;
    --text:#6b3550;
  }

  html,body{height:100%; margin:0; font-family: 'Press Start 2P', monospace; background:var(--bg); color:var(--text);}
  body{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:18px;overflow:hidden;padding:24px;}

  header{ text-align:center; z-index:3;}
  header h1{font-family:'Press Start 2P'; font-size:18px; color:#db5a8b; margin:0 0 6px;}
  header p{font-size:10px; color:#b36a8b; margin:0;}

  /* layout */
  .letters{display:flex; gap:36px; align-items:flex-start; z-index:2;}
  @media (max-width:720px){ .letters{flex-direction:column;align-items:center;} }

  /* envelope container */
  .env{width:220px;height:160px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer;}
  .env .card{width:220px;height:160px;display:flex;align-items:center;justify-content:center;position:relative;}

  /* message panel (fits inside envelope when open) */
  .message{
    position:absolute; width:184px; height:104px; left:18px; top:36px;
    background:linear-gradient(#fffefc,#fff3f8);
    border:4px solid #ffdfe9; border-radius:6px;
    display:flex;align-items:center;justify-content:center;text-align:center;padding:10px;box-sizing:border-box;
    font-size:11px;line-height:1.25;color:var(--text);
    opacity:0; transform:translateY(6px); transition:opacity .25s linear, transform .25s linear;
    pointer-events:none;
  }
  .message.show{ opacity:1; transform:translateY(0); pointer-events:auto; }

  /* The pixel SVGs scale up crisply */
  svg.pixel { width:180px; height:120px; image-rendering:pixelated; shape-rendering:crispEdges; }

  /* flap animation: rotateX like opening but stepped to feel pixel-y */
  .flap-g { transform-origin: 50% 0%; transform: rotateX(0deg); transition: transform 700ms steps(5, end); }
  .env.open .flap-g { transform: rotateX(180deg); }

  /* small label below each */
  .label { margin-top:8px; font-size:10px; color:#b35a7e; text-align:center; }

  /* pixel petals */
  .petal{ position:fixed; width:10px; height:10px; border-radius:2px; z-index:40; image-rendering:pixelated; }
  @keyframes fall {
    0%{ transform: translateY(-10vh) rotate(0deg); opacity:1}
    100%{ transform: translateY(100vh) rotate(360deg); opacity:0}
  }

  /* cat (medium) - shows on top */
  .cat-svg{ position:fixed; bottom:36px; left:50%; transform:translateX(-50%); width:120px; height:120px; z-index:45; image-rendering:pixelated; animation:catbob 900ms infinite; }
  @keyframes catbob { 0%{ transform:translate(-50%,0)} 50%{transform:translate(-50%,-8px)} 100%{transform:translate(-50%,0)} }

  /* DAMN text style (pixel font) */
  .damn { font-family: 'Press Start 2P'; font-size:14px; color:#b43f6b; letter-spacing:8px; }

  /* subtle sparkle background pixels */
  .sparkle{
    position: absolute; width:6px; height:6px; background:#ffd6ea; border-radius:2px; opacity:.9; box-shadow:0 2px 0 rgba(0,0,0,0.05);
    filter: blur(.2px);
  }
</style>
</head>
<body>

<header>
  <h1>üíå Pixel Coquette Letters</h1>
  <p>click a pixel envelope ‚Äî flap opens in pixel style</p>
</header>

<main class="letters" aria-label="choose letter">
  <!-- SINGLE envelope -->
  <div class="env" id="env-single" role="button" tabindex="0" aria-label="Open single letter">
    <div class="card">
      <!-- inline SVG pixel-envelope (flap is a group .flap-g so we can rotate it) -->
      <svg class="pixel" viewBox="0 0 48 32" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <!-- envelope body (pixel-style) -->
        <rect x="0" y="6" width="48" height="26" fill="#fff7fb" stroke="#ffdfe9" stroke-width="1"/>
        <!-- flap group -->
        <g class="flap-g">
          <rect x="0" y="0" width="48" height="16" fill="#ffd7e8" stroke="#f7b6cf" stroke-width="1"/>
          <!-- heart seal block (drawn as pixels) -->
          <g transform="translate(20,6)">
            <rect x="0" y="0" width="2" height="2" fill="#b93f73"/>
            <rect x="2" y="0" width="2" height="2" fill="#b93f73"/>
            <rect x="1" y="2" width="2" height="2" fill="#b93f73"/>
          </g>
        </g>

        <!-- pixel shadow under flap (to emphasize) -->
        <rect x="0" y="15.5" width="48" height="1" fill="#f0b6c9" opacity="0.6"/>

        <!-- decorative postage pixel -->
        <rect x="4" y="22" width="6" height="4" fill="#ffd1e6" stroke="#ffb6d2" stroke-width="0.3"/>

        <!-- small title text simulated with rectangles (pixel title) -->
        <g transform="translate(12,22)">
          <rect x="0" y="0" width="2" height="1" fill="#e889b0"/>
          <rect x="3" y="0" width="2" height="1" fill="#e889b0"/>
        </g>
      </svg>

      <!-- message card (hidden until open) -->
      <div class="message" id="msg-single" aria-hidden="true">
        <div>
          <strong>To my lovely you ‚ô•</strong><br>
          <div style="margin-top:8px;">
            Roses are red while some are white,<br>
            Violet is a mix of both red and blue,<br>
            But most importantly,<br>
            Can I ask a date with you? üíê
          </div>
        </div>
      </div>
    </div>

    <div class="label">Single üíñ</div>
  </div>

  <!-- TAKEN envelope -->
  <div class="env" id="env-taken" role="button" tabindex="0" aria-label="Open taken letter">
    <div class="card">
      <svg class="pixel" viewBox="0 0 48 32" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <rect x="0" y="6" width="48" height="26" fill="#fffaf8" stroke="#ffe6ee" stroke-width="1"/>
        <g class="flap-g">
          <rect x="0" y="0" width="48" height="16" fill="#ffe8ee" stroke="#f6cbd9" stroke-width="1"/>
          <g transform="translate(20,6)">
            <rect x="0" y="0" width="2" height="2" fill="#bd5b6f"/>
            <rect x="2" y="0" width="2" height="2" fill="#bd5b6f"/>
            <rect x="1" y="2" width="2" height="2" fill="#bd5b6f"/>
          </g>
        </g>
        <rect x="0" y="15.5" width="48" height="1" fill="#f1b6c9" opacity="0.5"/>
        <rect x="4" y="22" width="6" height="4" fill="#ffe5ef" stroke="#ffd8ea" stroke-width="0.3"/>
      </svg>

      <div class="message" id="msg-taken" aria-hidden="true">
        <div>
          <strong class="damn">D a m n</strong>
        </div>
      </div>
    </div>

    <div class="label">Taken üíî</div>
  </div>
</main>

<!-- optional pixel sparkles placed around -->
<div class="sparkle" style="left:12%;top:18%;"></div>
<div class="sparkle" style="left:82%;top:24%;"></div>
<div class="sparkle" style="left:40%;top:6%;"></div>

<script>
  // DOM refs
  const envSingle = document.getElementById('env-single');
  const envTaken  = document.getElementById('env-taken');
  const msgSingle = document.getElementById('msg-single');
  const msgTaken  = document.getElementById('msg-taken');

  // Pixel cat built in SVG (drawn below when needed)
  function insertCat(){
    if(document.querySelector('.cat-svg')) return; // prevent duplicates
    const ns = 'http://www.w3.org/2000/svg';
    const svg = document.createElementNS(ns, 'svg');
    svg.setAttribute('class','cat-svg');
    svg.setAttribute('viewBox','0 0 24 24');
    svg.setAttribute('aria-hidden','true');
    // Build cat via many small rects (pixel blocks) to match your provided cat look (pink tones)
    // We'll construct a compact 12x12 pixel cat scaled by viewBox
    const pixels = [
      /* each item: [x,y,color]  (design simplified copy of your provided cat) */
      // row 0
      [4,0,'#f7c7d7'],[5,0,'#f7c7d7'],[6,0,'#f7c7d7'],
      // row1
      [3,1,'#f7c7d7'],[4,1,'#f7c7d7'],[5,1,'#f39fbf'],[6,1,'#f39fbf'],[7,1,'#f7c7d7'],
      // row2
      [2,2,'#f7c7d7'],[3,2,'#f39fbf'],[4,2,'#e6769e'],[5,2,'#c94a70'],[6,2,'#e6769e'],[7,2,'#f39fbf'],[8,2,'#f7c7d7'],
      // row3 (eyes)
      [2,3,'#f7c7d7'],[3,3,'#e6769e'],[4,3,'#2b1b2b'],[5,3,'#fff6fb'],[6,3,'#fff6fb'],[7,3,'#2b1b2b'],[8,3,'#e6769e'],
      // row4
      [2,4,'#f7c7d7'],[3,4,'#e6769e'],[4,4,'#c94a70'],[5,4,'#e89dbb'],[6,4,'#c94a70'],[7,4,'#e6769e'],[8,4,'#f7c7d7'],
      // row5
      [3,5,'#f39fbf'],[4,5,'#f39fbf'],[5,5,'#e6769e'],[6,5,'#f39fbf'],[7,5,'#f39fbf'],
      // row6 body
      [4,6,'#ffd1e6'],[5,6,'#ffd1e6'],[6,6,'#ffd1e6'],
      [3,7,'#ffd1e6'],[4,7,'#ffb6d2'],[5,7,'#ffb6d2'],[6,7,'#ffb6d2'],[7,7,'#ffd1e6'],
      [2,8,'#ffd1e6'],[3,8,'#ffd1e6'],[4,8,'#ffb6d2'],[5,8,'#ffb6d2'],[6,8,'#ffb6d2'],[7,8,'#ffd1e6'],[8,8,'#ffd1e6'],
      [4,9,'#ffd1e6'],[5,9,'#ffd1e6'],[6,9,'#ffd1e6']
    ];

    // draw rects sized to viewbox scale (we'll choose pixel size = 1 for small sprite)
    pixels.forEach(([x,y,color])=>{
      const r = document.createElementNS(ns,'rect');
      r.setAttribute('x', x);
      r.setAttribute('y', y);
      r.setAttribute('width', 1);
      r.setAttribute('height', 1);
      r.setAttribute('fill', color);
      svg.appendChild(r);
    });

    // add a tiny face highlight or paw - optional (kept simple)
    document.body.appendChild(svg);
    // remove after 7s
    setTimeout(()=> svg.remove(), 7000);
  }

  // spawn pixel petals
  function spawnPetals(){
    const colors = ['#f9bfd1','#ffd1e6','#ffc4d9'];
    for(let i=0;i<18;i++){
      const el = document.createElement('div');
      el.className = 'petal';
      el.style.left = (Math.random()*90 + 5) + 'vw';
      el.style.background = colors[Math.floor(Math.random()*colors.length)];
      el.style.top = (-5 - Math.random()*20) + 'vh';
      el.style.width = (6 + Math.random()*8) + 'px';
      el.style.height = el.style.width;
      document.body.appendChild(el);
      el.animate([
        { transform: 'translateY(0) rotate(0deg)', opacity:1 },
        { transform: `translateY(${90 + Math.random()*60}vh) rotate(${360 + Math.random()*360}deg)`, opacity:0 }
      ], { duration: 3200 + Math.random()*1800, easing: 'cubic-bezier(.2,.9,.3,1)'});
      setTimeout(()=> el.remove(), 5500);
    }
  }

  // open function (pixel-stepped via CSS transition steps)
  function openEnv(envEl, msgEl, withEffects){
    if(envEl.classList.contains('open')) return;
    envEl.classList.add('open');
    // show message slightly after flap opens
    setTimeout(()=> {
      msgEl.classList.add('show');
      msgEl.setAttribute('aria-hidden','false');
      if(withEffects){ spawnPetals(); insertCat(); }
    }, 700);
  }

  envSingle.addEventListener('click', ()=> openEnv(envSingle, msgSingle, true));
  envTaken.addEventListener('click', ()=> openEnv(envTaken, msgTaken, false));

  // keyboard accessibility
  [envSingle, envTaken].forEach(el=>{
    el.addEventListener('keydown', e=>{
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); el.click(); }
    });
  });

</script>
</body>
</html>
