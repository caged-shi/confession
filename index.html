<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Confession üíå</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

body {
  background-color: #ffeaf1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  font-family: 'Press Start 2P', monospace;
  color: #c33e6a;
  overflow: hidden;
}

/* Remove click outline */
button, img, div, a {
  outline: none;
}
button:focus, img:focus, div:focus, a:focus {
  outline: none;
}

/* Floating pixel hearts background */
@keyframes float {
  0% {transform: translateY(0);}
  50% {transform: translateY(-15px);}
  100% {transform: translateY(0);}
}
.heart {
  position: absolute;
  width: 8px;
  height: 8px;
  background: #ffb6d2;
  transform: rotate(45deg);
  animation: float 4s ease-in-out infinite;
}
.heart::before, .heart::after {
  content: '';
  position: absolute;
  width: 8px;
  height: 8px;
  background: #ffb6d2;
  border-radius: 50%;
}
.heart::before {top: -4px; left: 0;}
.heart::after {left: -4px; top: 0;}

/* Envelope styling */
.envelope {
  width: 160px;
  height: 110px;
  background: #ffe0eb;
  border: 3px solid #c33e6a;
  position: relative;
  margin: 10px;
  cursor: pointer;
  box-shadow: 0 4px 0 #c33e6a;
  transition: transform 0.15s;
}
.envelope:hover {transform: translateY(-2px);}
.envelope::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 0;
  height: 0;
  border-left: 80px solid transparent;
  border-right: 80px solid transparent;
  border-bottom: 55px solid #ffb6d2;
  transition: transform 0.2s;
}
.envelope.open::before {
  transform: rotateX(180deg);
}

/* Buttons container */
.options {
  display: flex;
  justify-content: center;
  gap: 25px;
}

/* Poem box */
.letter {
  background: #fff;
  border: 3px solid #c33e6a;
  padding: 15px;
  width: 240px;
  text-align: center;
  box-shadow: 0 4px 0 #c33e6a;
  display: none;
  animation: fadeIn 0.4s ease forwards;
}

@keyframes fadeIn {
  from {opacity: 0; transform: translateY(10px);}
  to {opacity: 1; transform: translateY(0);}
}

/* Pixel Cat */
.pixel-cat {
  font-size: 10px;
  line-height: 10px;
  white-space: pre;
  color: #c33e6a;
  margin-bottom: 10px;
}

/* Damn text */
.damn {
  font-family: 'Press Start 2P', monospace;
  font-size: 16px;
  color: #c33e6a;
  letter-spacing: 6px;
  text-align: center;
  white-space: nowrap;
  display: flex;
  justify-content: center;
  align-items: baseline;
  text-shadow: 1px 1px 0 #ffb6d2, -1px -1px 0 #ffb6d2;
  transform-origin: center;
  animation: popIn 0.3s ease-out, shake 420ms ease-in-out 0.3s 2;
  line-height: 1;
}

/* Animations */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-3px); }
  75% { transform: translateX(3px); }
}
@keyframes popIn {
  0% { transform: scale(0.8); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

/* Floating hearts random positions */
.heart:nth-child(1){top:20%;left:10%;animation-delay:0s;}
.heart:nth-child(2){top:40%;left:80%;animation-delay:1s;}
.heart:nth-child(3){top:70%;left:30%;animation-delay:2s;}
.heart:nth-child(4){top:85%;left:60%;animation-delay:3s;}

/* Play button */
#playButton {
  position: fixed;
  bottom: 12px;
  right: 12px;
  font-size: 8px;
  padding: 6px 10px;
  background: #ffb6d2;
  border: 2px solid #c33e6a;
  border-radius: 6px;
  color: #fff;
  cursor: pointer;
  box-shadow: 0 3px 0 #c33e6a;
}
#playButton:hover {transform: scale(1.05);}
</style>
</head>
<body>

<!-- background music -->
<audio id="bgmusic" loop preload="auto">
  <source src="https://upload.wikimedia.org/wikipedia/commons/5/57/Bell_Labs_Daisy_Bell.ogg" type="audio/ogg">
</audio>

<!-- play toggle -->
<button id="playButton">üîä Play</button>

<div class="heart"></div>
<div class="heart"></div>
<div class="heart"></div>
<div class="heart"></div>

<h2 style="font-size:12px; margin-bottom:20px;">üíå A Little Letter For You üíå</h2>

<div class="options">
  <div class="envelope" id="single"></div>
  <div class="envelope" id="taken"></div>
</div>

<div id="letter" class="letter">
  <div class="pixel-cat">
    ‚†Ä‚†Ä‚ï±|„ÄÅ<br>
    (ÀöÀé „ÄÇ7<br>
    |„ÄÅÀú„Äµ<br>
    „Åò„ÅóÀç,)„Éé ‚Äúplease?‚Äù
  </div>
  Roses are red while some are white,<br>
  Violet is a mix of both red and blue,<br>
  But most importantly...<br>
  Can I ask a date with you?
</div>

<div id="replaceTaken"></div>

<script>
const single = document.getElementById('single');
const taken = document.getElementById('taken');
const letter = document.getElementById('letter');
const replaceTaken = document.getElementById('replaceTaken');
const music = document.getElementById('bgmusic');
const playButton = document.getElementById('playButton');

playButton.addEventListener('click', () => {
  if (music.paused) {
    music.volume = 0;
    music.play();
    let v = 0;
    const fade = setInterval(() => {
      if (v < 0.25) { v += 0.01; music.volume = v; }
      else clearInterval(fade);
    }, 80);
    playButton.textContent = "üîá Pause";
  } else {
    music.pause();
    playButton.textContent = "üîä Play";
  }
});

single.addEventListener('click', ()=>{
  single.classList.toggle('open');
  letter.style.display = 'block';
  replaceTaken.innerHTML = '';
});

taken.addEventListener('click', ()=>{
  taken.classList.toggle('open');
  letter.style.display = 'none';
  showDamnIn();
});

function showDamnIn(){
  replaceTaken.innerHTML = '';
  const d = document.createElement('div');
  d.className = 'damn';
  d.innerHTML = '<span>D</span>&nbsp;<span>a</span>&nbsp;<span>m</span>&nbsp;<span>n</span>';
  replaceTaken.appendChild(d);
}
</script>

</body>
</html>
