<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üíå Pixel Coquette Letter</title>

<!-- Pixel font -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
  :root{
    --bg-pink:#fff0f5;
    --accent:#f7a7c1;
    --accent-2:#ffd7e6;
    --text:#6b3547;
    --pixel-size:4px; /* simulate pixel scale */
  }

  /* page */
  html,body{height:100%; margin:0; font-family: "Press Start 2P", monospace; -webkit-font-smoothing: none; -moz-osx-font-smoothing: grayscale;}
  body{
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    background: url('images/cat-bg.png') center/cover no-repeat fixed, linear-gradient(180deg,#fff6fb,#fff0f5);
    background-blend-mode: overlay;
    color:var(--text);
    overflow:hidden;
  }

  /* overlay soft blur so background cat doesn't overpower */
  body::after{
    content:""; position:fixed; inset:0; background:rgba(255,240,246,0.55); pointer-events:none;
    backdrop-filter: blur(2px);
  }

  header{
    z-index:5;
    text-align:center;
    margin-bottom:28px;
  }
  header h1{
    font-family:"Press Start 2P", monospace;
    font-size:18px;
    letter-spacing:1px;
    color:#d05a85;
    margin:0;
    text-shadow: 0 0 6px rgba(255,255,255,0.6);
  }
  header p{
    margin:8px 0 0; font-size:9px; color:#b36a8b; opacity:0.9;
  }

  /* layout for letters */
  .letters{
    display:flex; gap:48px; z-index:5; align-items:center;
  }

  /* Pixel envelope base: we build a blocky pixel look by using borders and a scaled transform */
  .envelope{
    width:220px; height:150px;
    position:relative;
    background: linear-gradient(180deg,#fffdfd,#fff8fb);
    border-radius:6px;
    border: 6px solid var(--accent-2);
    box-shadow: 0 8px 0 rgba(0,0,0,0.06);
    cursor:pointer;
    transform:scale(1);
    transition: transform .15s linear;
    image-rendering: pixelated;
    /* emulate pixel edge using box-shadow "steps" - gives a blocky border feel */
    box-shadow:
      0 8px 0 rgba(0,0,0,0.08),
      6px 0 0 var(--accent-2),
      -6px 0 0 var(--accent-2),
      0 -6px 0 var(--accent-2);
    display:flex; align-items:center; justify-content:center;
    user-select:none;
  }

  .envelope:active{ transform:translateY(2px) scale(.995); }

  /* small pixel stamp / label */
  .label{
    position:absolute; top:12px; left:12px;
    background:var(--accent); color:white; padding:6px 10px; border-radius:6px;
    font-size:9px; box-shadow: 0 3px 0 rgba(0,0,0,0.06);
  }

  /* flap (pixel style) */
  .flap{
    position:absolute; inset:0; height:55%;
    top:-2px; left:0;
    background: linear-gradient(180deg,#ffdce9,#ffd1e6);
    border-bottom:6px solid #f6b6cf;
    border-top-left-radius:4px; border-top-right-radius:4px;
    transform-origin: top;
    transform: rotateX(0deg);
    transition: transform .6s cubic-bezier(.2,.9,.3,1);
    z-index:6;
    pointer-events:none;
  }

  /* small heart-pixel on flap center */
  .flap::after{
    content:"‚ô•";
    position:absolute; left:50%; top:46%;
    transform:translate(-50%,-50%);
    font-size:14px; color:#b93f73; filter: drop-shadow(0 1px 0 rgba(255,255,255,.4));
  }

  /* headline inside envelope (visible before open) */
  .title{
    z-index:3; pointer-events:none; font-size:10px; color:#9b4067; text-align:center;
  }

  /* Message card that slides up from inside (pixel blocky card) */
  .message{
    display:none;
    position:absolute; inset:16px;
    background: linear-gradient(180deg,#fffafc,#fff3f7);
    border:4px solid #ffdfea;
    border-radius:6px;
    padding:12px;
    box-sizing:border-box;
    z-index:5;
    text-align:center;
    transform: translateY(8px);
    transition: transform .35s ease, opacity .35s ease;
    opacity:0;
    font-size:10px;
    color:#6f3b50;
    line-height:1.3;
  }

  .message.show{ display:flex; flex-direction:column; justify-content:center; opacity:1; transform:translateY(0); }

  /* little pixel button inside message (for Single we keep it automatic) */
  .message .ok{
    margin-top:10px; font-size:9px; padding:6px 8px; border-radius:6px; background:var(--accent); color:#fff;
    border:none; cursor:pointer;
  }

  /* pixel-ish decorations under */
  .pixels{
    position:absolute; bottom:8px; left:50%; transform:translateX(-50%); display:flex; gap:6px; z-index:4;
  }
  .pixels .p{ width:8px; height:8px; background:#ffb3cf; border-radius:2px; box-shadow: 0 2px 0 rgba(0,0,0,0.06); }

  /* petal and cat */
  .petal{ position:fixed; width:10px;height:10px;border-radius:2px; pointer-events:none; z-index:40; image-rendering:pixelated; }
  .cat{
    position:fixed; bottom:34px; left:50%; transform:translateX(-50%);
    width:96px; height:96px; image-rendering:pixelated; z-index:45; animation:bounce 900ms infinite;
  }
  @keyframes bounce{ 0%{ transform: translate(-50%,0)} 50%{ transform:translate(-50%,-8px)} 100%{ transform:translate(-50%,0)} }

  /* responsive */
  @media (max-width:640px){
    .letters{ gap:18px; }
    .envelope{ width:180px; height:130px; }
    .cat{ width:72px; height:72px; }
  }

</style>
</head>
<body>
  <header>
    <h1>üíå A Little Letter For You</h1>
    <p>click an envelope ‚Äî pixel coquette style</p>
  </header>

  <main class="letters" role="main" aria-label="choose letter">
    <!-- SINGLE envelope -->
    <div class="envelope" id="env-single" tabindex="0" role="button" aria-pressed="false" aria-label="Open single letter">
      <div class="flap"></div>
      <div class="label">SINGLE ‚ô•</div>
      <div class="title">For the Single</div>
      <div class="pixels" aria-hidden="true">
        <div class="p"></div><div class="p"></div><div class="p"></div>
      </div>

      <div class="message" id="msg-single" aria-hidden="true">
        <div><strong>To my lovely you ‚ô•</strong></div>
        <div style="margin-top:10px;">
          Roses are red while some are white,<br>
          Violet is a mix of both red and blue,<br>
          But most importantly,<br>
          Can I ask a date with you? üíê
        </div>
      </div>
    </div>

    <!-- TAKEN envelope -->
    <div class="envelope" id="env-taken" tabindex="0" role="button" aria-pressed="false" aria-label="Open not single letter">
      <div class="flap"></div>
      <div class="label" style="background:#d8c8d7;color:#6b3a51;">TAKEN üíî</div>
      <div class="title">For the Taken</div>
      <div class="pixels" aria-hidden="true">
        <div class="p" style="background:#ffd1e6"></div><div class="p" style="background:#ffd1e6"></div><div class="p" style="background:#ffd1e6"></div>
      </div>

      <div class="message" id="msg-taken" aria-hidden="true">
        <div><strong>To someone loved</strong></div>
        <div style="margin-top:10px;">
          That‚Äôs okay ‚Äî love blooms in many ways.<br>
          I hope your heart stays warm and happy always. üíû
        </div>
      </div>
    </div>
  </main>

<script>
/* --- configuration --- */
const catGif = "https://i.ibb.co/wN6LxRs/pixel-cat-please.gif"; // pleading pixel cat GIF (hosted externally)
const singleBgPath = "images/cat-bg.png"; // <-- upload your 8-bit cat to repo at this path

/* select DOM */
const envSingle = document.getElementById("env-single");
const envTaken = document.getElementById("env-taken");
const msgSingle = document.getElementById("msg-single");
const msgTaken = document.getElementById("msg-taken");

/* helper: open envelope animation (flap rotate) */
function openEnvelope(envEl, msgEl, withEffects=false){
  // flap element
  const flap = envEl.querySelector(".flap");
  // rotate flap up (simulate open)
  flap.style.transform = "rotateX(180deg)";
  // after flap opens, show message
  setTimeout(()=>{
    msgEl.classList.add("show");
    msgEl.setAttribute("aria-hidden","false");
    if(withEffects) {
      spawnPetals();
      showCat();
    }
  }, 650);
}

/* spawn gentle pixel petals */
function spawnPetals(){
  const colors = ["#f8b8c8","#f4a3b4","#ffd1dc","#ffd6ea"];
  for(let i=0;i<22;i++){
    const pet = document.createElement("div");
    pet.className = "petal";
    pet.style.left = (Math.random()*100) + "vw";
    pet.style.top = (-10 - Math.random()*30) + "vh";
    pet.style.width = (6 + Math.random()*10) + "px";
    pet.style.height = pet.style.width;
    pet.style.background = colors[Math.floor(Math.random()*colors.length)];
    pet.style.opacity = 0.9;
    pet.style.borderRadius = "2px";
    // animate down using CSS transitions via JS
    document.body.appendChild(pet);
    // apply animation via requestAnimationFrame (start)
    (function(el, dur){
      el.animate([
        { transform: `translateY(0) rotate(0deg)`, opacity:1 },
        { transform: `translateY(${80 + Math.random()*60}vh) rotate(${360 + Math.random()*360}deg)`, opacity:0 }
      ], { duration: 3500 + Math.random()*1800, easing: 'cubic-bezier(.2,.9,.3,1)'});
      setTimeout(()=> el.remove(), 5500);
    })(pet);
  }
}

/* show bouncing pixel cat */
function showCat(){
  // avoid duplicate cats
  if(document.querySelector(".cat")) return;
  const img = document.createElement("img");
  img.src = catGif;
  img.className = "cat";
  img.alt = "pixel cat pleading";
  document.body.appendChild(img);
  setTimeout(()=> img.remove(), 7200);
}

/* click handlers: open envelopes */
envSingle.addEventListener("click", ()=> {
  // if already open, do nothing
  if(msgSingle.classList.contains("show")) return;
  openEnvelope(envSingle, msgSingle, true);
});
envTaken.addEventListener("click", ()=> {
  if(msgTaken.classList.contains("show")) return;
  openEnvelope(envTaken, msgTaken, false);
});

/* keyboard access (enter/space) */
[envSingle, envTaken].forEach(el=>{
  el.addEventListener("keydown", (e)=>{
    if(e.key === "Enter" || e.key === " "){
      e.preventDefault();
      el.click();
    }
  });
});

/* if you'd like the background to fallback to the image path you uploaded, the CSS already uses
   images/cat-bg.png ‚Äî ensure the file is uploaded there in your repo. If not, you can change the path
   above in the singleBgPath variable (not required unless you want to dynamically swap it). */
</script>
</body>
</html>
